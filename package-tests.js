const request = require('request');
const newPackages = [
  "1602/elm-feather",
  "1602/json-schema",
  "1602/json-value",
  "1602/json-viewer",
  "2mol/elm-colormaps",
  "AIRTucha/pathfinder",
  "ASVBPREAUBV/elm-flexbox",
  "AaronCZim/to-elm-format-string",
  "AuricSystemsInternational/creditcard-validator",
  "Bastes/the-validator",
  "Bernardoow/elm-alert-timer-message",
  "Bernardoow/elm-rating-component",
  "Bogdanp/elm-ast",
  "Bogdanp/elm-combine",
  "Bogdanp/elm-datepicker",
  "Bogdanp/elm-querystring",
  "Bogdanp/elm-route",
  "Bogdanp/elm-time",
  "Bractlet/elm-plot",
  "BrianHicks/elm-avl-exploration",
  "BrianHicks/elm-benchmark",
  "BrianHicks/elm-trend",
  "CallumJHays/elm-kalman-filter",
  "CallumJHays/elm-sliders",
  "CallumJHays/elm-unwrap",
  "Chadtech/ct-colors",
  "Chadtech/ctpaint-keys",
  "Chadtech/elm-bool-extra",
  "Chadtech/elm-loop",
  "Chadtech/elm-money",
  "Chadtech/elm-us-state-abbreviations",
  "Chadtech/hfnss",
  "Chadtech/id",
  "Chadtech/keyboard-extra-browser",
  "Chadtech/mail",
  "Chadtech/order",
  "Chadtech/random-pcg-pipeline",
  "Chadtech/random-pipeline",
  "Chadtech/return",
  "Chadtech/tuple-infix",
  "Chadtech/unique-list",
  "ChristophP/elm-i18next",
  "DavidTobin/elm-key",
  "DrBearhands/elm-json-editor",
  "Elm-Canvas/element-relative-mouse-events",
  "Elm-Canvas/raster-shapes",
  "EngageSoftware/elm-dnn-http",
  "EngageSoftware/elm-dnn-localization",
  "FMFI-UK-1-AIN-412/elm-formula",
  "FabienHenon/elm-infinite-list-view",
  "FabienHenon/elm-infinite-scroll",
  "FabienHenon/elm-pull-to-refresh",
  "FabienHenon/jsonapi",
  "FabienHenon/jsonapi-decode",
  "Fresheyeball/elm-animate-css",
  "Fresheyeball/elm-font-awesome",
  "Fresheyeball/elm-function-extra",
  "Fresheyeball/elm-guards",
  "Fresheyeball/elm-nearly-eq",
  "Fresheyeball/elm-number-expanded",
  "Fresheyeball/elm-restrict-number",
  "Fresheyeball/elm-return",
  "Fresheyeball/elm-tuple-extra",
  "Fresheyeball/perspective",
  "Fresheyeball/sprite",
  "Gizra/elm-all-set",
  "Gizra/elm-attribute-builder",
  "Gizra/elm-compat-018",
  "Gizra/elm-debouncer",
  "Gizra/elm-dictlist",
  "Gizra/elm-editable-webdata",
  "Gizra/elm-essentials",
  "Gizra/elm-keyboard-event",
  "Gizra/elm-restful",
  "Gizra/elm-storage-key",
  "GlobalWebIndex/class-namespaces",
  "GlobalWebIndex/cmd-extra",
  "GlobalWebIndex/segment-elm",
  "Guid75/ziplist",
  "HolyMeekrob/elm-font-awesome-5",
  "Janiczek/cmd-extra",
  "Janiczek/color-hcl",
  "Janiczek/distinct-colors",
  "Janiczek/elm-architecture-test",
  "Janiczek/elm-encoding",
  "Janiczek/package-info",
  "JeremyBellows/elm-bootstrapify",
  "JoelQ/elm-dollar",
  "JoelQ/elm-toggleable",
  "JohnBugner/elm-bag",
  "JohnBugner/elm-loop",
  "JordyMoos/elm-clockpicker",
  "JordyMoos/elm-pageloader",
  "JordyMoos/elm-quiz",
  "Kinto/elm-kinto",
  "Kwarrtz/render",
  "Leonti/elm-material-datepicker",
  "Leonti/elm-time-picker",
  "Luftzig/elm-quadtree",
  "M1chaelTran/elm-graphql",
  "MacCASOutreach/graphicsvg",
  "MadonnaMat/elm-select-two",
  "MartinKavik/elm-combinatorics",
  "MazeChaZer/elm-ckeditor",
  "MichaelCombs28/elm-base85",
  "MichaelCombs28/elm-dom",
  "MichaelCombs28/elm-mdl",
  "MichaelCombs28/elm-parts",
  "MichaelCombs28/unit-list",
  "Microsoft/elm-json-tree-view",
  "MikaelMayer/parser",
  "Natim/elm-workalendar",
  "Nexosis/nexosisclient-elm",
  "NoRedInk/datetimepicker",
  "NoRedInk/elm-compare",
  "NoRedInk/elm-decode-pipeline",
  "NoRedInk/elm-doodad",
  "NoRedInk/elm-feature-interest",
  "NoRedInk/elm-formatted-text",
  "NoRedInk/elm-rails",
  "NoRedInk/elm-rfc5988-parser",
  "NoRedInk/elm-saved",
  "NoRedInk/elm-simple-fuzzy",
  "NoRedInk/elm-sweet-poll",
  "NoRedInk/elm-view-utils",
  "NoRedInk/json-elm-schema",
  "NoRedInk/list-selection",
  "NoRedInk/noredink-ui",
  "NoRedInk/nri-elm-css",
  "NoRedInk/rocket-update",
  "NoRedInk/style-elements",
  "NoRedInk/view-extra",
  "OldhamMade/elm-charts",
  "Punie/elm-matrix",
  "QiTASC/wip-qit",
  "RGBboy/websocket-server",
  "RomanErnst/updated-list",
  "RoyalHaskoningDHV/elm-ditto-events-decoder",
  "RoyalIcing/datadown-elm",
  "RoyalIcing/inflexio",
  "RoyalIcing/lofi-elm",
  "RoyalIcing/lofi-schema-elm",
  "SHyx0rmZ/selectable-list",
  "SamirTalwar/arborist",
  "Saulzar/elm-keyboard-keys",
  "Saulzar/key-constants",
  "SidneyNemzer/elm-remote-data",
  "SimplyNaOH/elm-searchable-menu",
  "Skinney/elm-array-exploration",
  "Skinney/elm-dict-exploration",
  "Skinney/fnv",
  "Skinney/murmur3",
  "Spaxe/elm-lsystem",
  "Spaxe/svg-pathd",
  "Spottt/elm-dialog",
  "StoatPower/elm-wkt",
  "SwiftsNamesake/euclidean-space",
  "SwiftsNamesake/please-focus",
  "SwiftsNamesake/proper-keyboard",
  "SylvanSign/elm-pointer-events",
  "TSFoster/elm-compare",
  "TSFoster/elm-heap",
  "ThinkAlexandria/elm-drag-locations",
  "ThinkAlexandria/elm-pretty-print-json",
  "ThinkAlexandria/elm-primer-tooltips",
  "ThinkAlexandria/keyboard-extra",
  "VerbalExpressions/elm-verbal-expressions",
  "Voronchuk/hexagons",
  "Warry/ascii-table",
  "Warry/elmi-decoder",
  "Xerono/pinnablecache",
  "Xerpa/elm-graphql",
  "Zaptic/elm-glob",
  "Zinggi/elm-2d-game",
  "Zinggi/elm-game-resources",
  "Zinggi/elm-hash-icon",
  "Zinggi/elm-obj-loader",
  "Zinggi/elm-random-general",
  "Zinggi/elm-random-pcg-extended",
  "Zinggi/elm-uuid",
  "Zinggi/elm-webgl-math",
  "ZoltanOnody/tablueau-parser",
  "aardito2/realm",
  "abadi199/dateparser",
  "abadi199/datetimepicker",
  "abadi199/datetimepicker-css",
  "abadi199/elm-creditcard",
  "abadi199/elm-input-extra",
  "abadi199/intl-phone-input",
  "abradley2/elm-datepicker",
  "abrykajlo/elm-scroll",
  "adeschamps/mdl-context",
  "adius/vectual",
  "ahstro/elm-bulma-classes",
  "ahstro/elm-konami-code",
  "ahstro/elm-luhn",
  "ahstro/elm-ssn-validation",
  "airtucha/board",
  "airtucha/pathfinder",
  "akheron/elm-easter",
  "akoppela/elm-autocomplete",
  "akoppela/elm-css-extra-properties",
  "akoppela/elm-css-extra-ptoperties",
  "akoppela/elm-logo",
  "alepop/elm-google-url-shortener",
  "allo-media/canopy",
  "allo-media/koivu",
  "alltonp/elm-driveby",
  "alpacaaa/elm-date-distance",
  "alvivi/elm-css-aria",
  "alvivi/elm-keyword-list",
  "alvivi/elm-nested-list",
  "alvivi/elm-widgets",
  "amaksimov/elm-maybe-pipeline",
  "amaksimov/elm-multikey-handling",
  "amazzeo/elm-math-strings",
  "amilner42/keyboard-extra",
  "amitu/elm-formatting",
  "andre-dietrich/elm-random-pcg-regex",
  "andre-dietrich/elm-random-regex",
  "andre-dietrich/parser-combinators",
  "andrewMacmurray/elm-delay",
  "andrewjackman/toasty-bootstrap",
  "andys8/elm-geohash",
  "anhmiuhv/pannablevideo",
  "antivanov/eunit",
  "apuchenkin/elm-nested-router",
  "aramiscd/elm-basscss",
  "arnau/elm-feather",
  "arowM/elm-chat-scenario",
  "arowM/elm-check-button",
  "arowM/elm-data-url",
  "arowM/elm-default",
  "arowM/elm-embedded-gist",
  "arowM/elm-form-validator",
  "arowM/elm-istring",
  "arowM/elm-monoid",
  "arowM/elm-raw-html",
  "arowM/elm-show",
  "arowM/elm-time-machine",
  "arturopala/elm-monocle",
  "ashelab/elm-cqrs",
  "astynax/tea-combine",
  "athanclark/elm-debouncer",
  "athanclark/elm-discrete-transition",
  "athanclark/elm-duration",
  "athanclark/elm-every",
  "avh4/elm-beautiful-example",
  "avh4/elm-debug-controls",
  "avh4/elm-dropbox",
  "avh4/elm-favicon",
  "avh4/elm-fifo",
  "avh4/elm-meshes",
  "avh4/elm-program-test",
  "avh4/elm-transducers",
  "avh4-experimental/elm-compose-programs",
  "avh4-experimental/elm-debug-controls-without-datepicker",
  "azer/elm-ui-styles",
  "bChiquet/line-charts",
  "bartavelle/json-helpers",
  "base-dev/elm-graphql-module",
  "basti1302/elm-human-readable-filesize",
  "basti1302/elm-non-empty-array",
  "bcardiff/elm-debounce",
  "benansell/elm-geometric-transformation",
  "benansell/lobo-elm-test-extra",
  "bendyworks/elm-action-cable",
  "benthepoet/elm-purecss",
  "besuikerd/elm-dictset",
  "billperegoy/elm-form-validations",
  "billperegoy/elm-sifter",
  "billstclair/elm-bitwise-infix",
  "billstclair/elm-chat",
  "billstclair/elm-crypto-aes",
  "billstclair/elm-crypto-string",
  "billstclair/elm-dev-random",
  "billstclair/elm-digital-ocean",
  "billstclair/elm-dynamodb",
  "billstclair/elm-html-template",
  "billstclair/elm-localstorage",
  "billstclair/elm-oauth-middleware",
  "billstclair/elm-s3",
  "billstclair/elm-sha256",
  "billstclair/elm-simple-xml-to-json",
  "billstclair/elm-svg-button",
  "billstclair/elm-versioned-json",
  "billstclair/elm-websocket-framework",
  "billstclair/elm-xml-extra",
  "bitrage-io/elm-ratequeue",
  "bkuhlmann/form-validator",
  "bloom/aviators",
  "bloom/elm-return",
  "bloom/remotedata",
  "blue-dinosaur/lambda",
  "bluedogtraining/bdt-elm",
  "brainrape/elm-ast",
  "brainrape/elm-bidict",
  "brainrape/flex-html",
  "brenden/elm-tree-diagram",
  "brightdb/sequence",
  "burabure/elm-collision",
  "bzimmermandev/autogrid",
  "cakenggt/elm-net",
  "camjc/elm-chart",
  "camjc/elm-quiz",
  "canadaduane/elm-hccb",
  "canadaduane/typed-svg",
  "capitalist/elm-octicons",
  "careport/elm-avl",
  "carwow/elm-core",
  "carwow/elm-slider",
  "carwow/elm-theme",
  "ccapndave/elm-flat-map",
  "ccapndave/elm-reflect",
  "ccapndave/elm-statecharts",
  "ccapndave/elm-translator",
  "ccapndave/elm-update-extra",
  "ccapndave/focus",
  "ceddlyburge/elm-collections",
  "chendrix/elm-matrix",
  "chrilves/elm-io",
  "chrisalmeida/graphqelm",
  "christophp/elm-i18next",
  "cjduncana/three-words",
  "cjmeeks/elm-calendar",
  "ckoster22/elm-genetic",
  "cmditch/mel-bew3",
  "comsysto/harvest-api",
  "coreytrampe/elm-vendor",
  "correl/elm-paginated",
  "cotterjd/elm-mdl",
  "crazymykl/ex-em-elm",
  "csicar/elm-mathui",
  "cuducos/elm-format-number",
  "cultureamp/elm-css-modules-loader",
  "dailydrip/elm-emoji",
  "dalen/elm-charts",
  "damienklinnert/elm-hue",
  "damienklinnert/elm-spinner",
  "damukles/elm-dialog",
  "danabrams/elm-media-source",
  "danielnarey/elm-bulma-classes",
  "danielnarey/elm-color-math",
  "danielnarey/elm-css-basics",
  "danielnarey/elm-css-frameworks",
  "danielnarey/elm-css-math",
  "danielnarey/elm-font-import",
  "danielnarey/elm-form-capture",
  "danielnarey/elm-html-tree",
  "danielnarey/elm-input-validation",
  "danielnarey/elm-modular-ui",
  "danielnarey/elm-semantic-content",
  "danielnarey/elm-semantic-dom",
  "danielnarey/elm-semantic-effects",
  "danielnarey/elm-stylesheet",
  "danielnarey/elm-toolkit",
  "danielspaniol/elm-tuple-extra",
  "danmarcab/elm-retroactive",
  "danyx23/elm-dropzone",
  "danyx23/elm-mimetype",
  "danyx23/elm-uuid",
  "davcamer/elm-protobuf",
  "davidpelaez/elm-scenic",
  "dawehner/elm-colorbrewer",
  "debois/elm-dom",
  "debois/elm-mdl",
  "debois/elm-parts",
  "derekdreery/elm-die-faces",
  "dillonkearns/graphqelm",
  "dillonkearns/graphqelm-demo",
  "dividat/elm-semver",
  "doodledood/elm-split-pane",
  "dosarf/elm-guarded-input",
  "drathier/elm-graph",
  "drathier/elm-test-graph",
  "drathier/elm-test-tables",
  "driebit/elm-html-unsafe-headers",
  "drojas/elm-http-parser",
  "drojas/elm-task-middleware",
  "dtraft/elm-classnames",
  "duncanmalashock/json-rest-api",
  "dustinfarris/elm-autocomplete",
  "dwyl/elm-datepicker",
  "dwyl/elm-input-tables",
  "dzuk-mutant/internettime",
  "edkv/elm-components",
  "edvail/elm-polymer",
  "eeue56/elm-all-dict",
  "eeue56/elm-alternative-json",
  "eeue56/elm-debug-json-view",
  "eeue56/elm-default-dict",
  "eeue56/elm-flat-matrix",
  "eeue56/elm-html-in-elm",
  "eeue56/elm-html-query",
  "eeue56/elm-html-test",
  "eeue56/elm-http-error-view",
  "eeue56/elm-json-field-value",
  "eeue56/elm-lazy",
  "eeue56/elm-lazy-list",
  "eeue56/elm-pretty-print-json",
  "eeue56/elm-shrink",
  "eeue56/elm-stringify",
  "eeue56/elm-xml",
  "egillet/elm-sortable-table",
  "eliaslfox/orderedmap",
  "eliaslfox/queue",
  "elm-bodybuilder/elegant",
  "elm-bodybuilder/elm-function",
  "elm-bodybuilder/formbuilder",
  "elm-bodybuilder/formbuilder-autocomplete",
  "elm-bodybuilder/formbuilder-photo",
  "elm-canvas/element-relative-mouse-events",
  "elm-canvas/raster-shapes",
  "elm-community/array-extra",
  "elm-community/basics-extra",
  "elm-community/dict-extra",
  "elm-community/easing-functions",
  "elm-community/elm-check",
  "elm-community/elm-datepicker",
  "elm-community/elm-material-icons",
  "elm-community/elm-route",
  "elm-community/elm-test",
  "elm-community/elm-time",
  "elm-community/graph",
  "elm-community/html-extra",
  "elm-community/html-test-runner",
  "elm-community/intdict",
  "elm-community/json-extra",
  "elm-community/lazy-list",
  "elm-community/linear-algebra",
  "elm-community/list-extra",
  "elm-community/list-split",
  "elm-community/material-icons",
  "elm-community/maybe-extra",
  "elm-community/parser-combinators",
  "elm-community/random-extra",
  "elm-community/ratio",
  "elm-community/result-extra",
  "elm-community/shrink",
  "elm-community/string-extra",
  "elm-community/svg-extra",
  "elm-community/typed-svg",
  "elm-community/undo-redo",
  "elm-community/webgl",
  "elm-lang/animation-frame",
  "elm-lang/core",
  "elm-lang/dom",
  "elm-lang/geolocation",
  "elm-lang/html",
  "elm-lang/http",
  "elm-lang/keyboard",
  "elm-lang/lazy",
  "elm-lang/mouse",
  "elm-lang/navigation",
  "elm-lang/page-visibility",
  "elm-lang/svg",
  "elm-lang/trampoline",
  "elm-lang/virtual-dom",
  "elm-lang/websocket",
  "elm-lang/window",
  "elm-tools/documentation",
  "elm-tools/parser",
  "elm-tools/parser-primitives",
  "emilianobovetti/edit-distance",
  "emilianobovetti/elm-yajson",
  "enetsee/elm-color-interpolate",
  "enetsee/elm-facet-scenegraph",
  "enetsee/elm-scale",
  "enetsee/facet-plot-alpha",
  "enetsee/facet-render-svg-alpha",
  "enetsee/facet-scenegraph-alpha",
  "enetsee/facet-theme-alpha",
  "enetsee/rangeslider",
  "engagesoftware/elm-dnn-localization",
  "ericgj/elm-accordion-menu",
  "ericgj/elm-autoinput",
  "ericgj/elm-csv-decode",
  "ericgj/elm-quantiles",
  "ericgj/elm-validation",
  "ersocon/creditcard-validation",
  "erwald/elm-edit-distance",
  "esanmiguelc/elm-validate",
  "eskimoblood/elm-color-extra",
  "eskimoblood/elm-parametric-surface",
  "eskimoblood/elm-simplex-noise",
  "eskimoblood/elm-wallpaper",
  "etaque/elm-form",
  "etaque/elm-hexagons",
  "etaque/elm-response",
  "etaque/elm-route-parser",
  "etaque/elm-transit",
  "etaque/elm-transit-style",
  "evancz/elm-graphics",
  "evancz/elm-markdown",
  "evancz/elm-sortable-table",
  "evancz/focus",
  "evancz/url-parser",
  "exdis/elm-sample-package",
  "fabiommendes/elm-bricks",
  "fabiommendes/elm-dynamic-forms",
  "fabiommendes/elm-sexpr",
  "fapian/elm-html-aria",
  "fbonetti/elm-geodesy",
  "fbonetti/elm-phoenix-socket",
  "fedragon/elm-typed-dropdown",
  "felipesere/elm-github-colors",
  "fiatjaf/hashbow-elm",
  "flarebyte/bubblegum-entity",
  "flarebyte/bubblegum-graph",
  "flarebyte/bubblegum-ui-textarea",
  "flarebyte/ntriples-filter",
  "folkertdev/elm-bounding-box",
  "folkertdev/elm-deque",
  "folkertdev/elm-hexbin",
  "folkertdev/elm-state",
  "folkertdev/elm-treemap",
  "folkertdev/one-true-path-experiment",
  "folkertdev/outmessage",
  "folkertdev/svg-path-dsl",
  "folkertdev/svg-path-lowlevel",
  "fredcy/elm-debouncer",
  "fredcy/elm-defer-command",
  "fredcy/elm-parseint",
  "frenchdonuts/elm-autocomplete",
  "gaborv/debouncer",
  "gampleman/elm-visualization",
  "geppettodivacin/elm-couchdb",
  "ggPeti/elm-html-decoder",
  "ggb/elm-bloom",
  "ggb/elm-trend",
  "ggb/numeral-elm",
  "ggb/porterstemmer",
  "ggpeti/elm-html-decoder",
  "ghivert/elm-cloudinary",
  "ghivert/elm-colors",
  "ghivert/elm-data-dumper",
  "ghivert/elm-graphql",
  "ghivert/elm-mapbox",
  "gicentre/elm-vega",
  "gilbertkennen/bigint",
  "gmauricio/elm-semantic-ui",
  "gribouille/elm-graphql",
  "gribouille/elm-prelude",
  "gribouille/elm-table",
  "gribouille/elm-treeview",
  "grrinchas/elm-graphql-client",
  "grrinchas/elm-natural",
  "guillaumeboudon/elm-creditcard",
  "h0lyalg0rithm/elm-select",
  "halfzebra/elm-aframe",
  "hardfire/elm-ad-bs",
  "hawx/elm-mixpanel",
  "hecrj/elm-slug",
  "hendore/elm-adorable-avatars",
  "hendore/elm-port-message",
  "hendore/elm-temperature",
  "hickscorp/elm-bigint",
  "hoelzro/elm-drag",
  "hrldcpr/elm-cons",
  "hugobessaa/elm-logoot",
  "humio/elm-dashboard",
  "humio/elm-plot",
  "ianmackenzie/elm-float-extra",
  "ianmackenzie/elm-interval",
  "ianmackenzie/elm-triangular-mesh",
  "ianp/elm-datepicker",
  "icidasset/css-support",
  "identicalsnowflake/elm-dynamic-style",
  "identicalsnowflake/elm-typed-styles",
  "imbybio/cachedremotedata",
  "imbybio/outmessage-nested",
  "imjoehaines/afinn-165-elm",
  "ingara/elm-asoiaf-api",
  "inkuzmin/elm-multiselect",
  "iodevs/elm-validate",
  "iosphere/elm-i18n",
  "iosphere/elm-logger",
  "iosphere/elm-network-graph",
  "iosphere/elm-toast",
  "ir4y/elm-dnd",
  "j-panasiuk/elm-ionicons",
  "jackfranklin/elm-parse-link-header",
  "jackwillis/elm-dialog",
  "jamby1100/elm-blog-engine",
  "jamesmacaulay/elm-graphql",
  "jamesmacaulay/elm-json-bidirectional",
  "janiczek/cmd-extra",
  "janjelinek/creditcard-validation",
  "jaredramirez/elm-parser",
  "jastice/boxes-and-bubbles",
  "jastice/forkitharder-elm",
  "jastice/forkithardermakeitbetter",
  "jeffesp/elm-vega",
  "jfairbank/elm-stream",
  "jfmengels/elm-ast",
  "jfmengels/elm-lint",
  "jinjor/elm-contextmenu",
  "jinjor/elm-csv-decode",
  "jinjor/elm-debounce",
  "jinjor/elm-diff",
  "jinjor/elm-html-parser",
  "jinjor/elm-inline-hover",
  "jinjor/elm-time-travel",
  "jinjor/elm-xml-parser",
  "jmackie4/elm-bulma",
  "john-kelly/elm-interactive-graphics",
  "john-kelly/elm-postgrest",
  "jonathanfishbein1/elm-comment",
  "joneshf/elm-comonad",
  "joneshf/elm-constraint",
  "joneshf/elm-proof",
  "joneshf/elm-tagged",
  "joneshf/elm-these",
  "joonazan/elm-ast",
  "joonazan/elm-gol",
  "joonazan/elm-type-inference",
  "joshforisha/elm-entities",
  "jpagex/elm-geoip",
  "jpagex/elm-loader",
  "jpagex/elm-material-color",
  "jschomay/elm-bounded-number",
  "jschomay/elm-narrative-engine",
  "jschomay/elm-paginate",
  "jschonenberg/elm-dropdown",
  "jtanguy/moulin-rouge",
  "jtojnar/elm-json-tape",
  "juanedi/charty",
  "justgage/tachyons-elm",
  "justgook/elm-image-encode",
  "justgook/elm-tiled-decode",
  "justinmimbs/elm-arc-diagram",
  "justinmimbs/elm-date-extra",
  "justinmimbs/elm-date-selector",
  "jvdvleuten/url-parser-combinator",
  "jvoigtlaender/elm-gauss",
  "jvoigtlaender/elm-memo",
  "jvoigtlaender/elm-warshall",
  "jweir/elm-iso8601",
  "jweir/sparkline",
  "jwoudenberg/elm-test-experimental",
  "jwoudenberg/html-typed",
  "jxxcarlson/convolvemachine",
  "jxxcarlson/geometry",
  "jxxcarlson/graphdisplay",
  "jxxcarlson/meenylatex",
  "jxxcarlson/minilatex",
  "jxxcarlson/particle",
  "jystic/elm-font-awesome",
  "kallaspriit/elm-basic-auth",
  "kalutheo/elm-snapshot-tests",
  "kalutheo/elm-ui-explorer",
  "kennib/elm-maps",
  "kfish/glsl-pasta",
  "kfish/quaternion",
  "kintail/input-widget",
  "kirchner/elm-selectize",
  "kirchner/form-validation",
  "kkpoon/elm-auth0",
  "kkpoon/elm-auth0-urlparser",
  "kkpoon/elm-echarts",
  "klaftertief/elm-heatmap",
  "knewter/elm-rfc5988-parser",
  "knledg/touch-events",
  "kress95/random-pcg-extra",
  "krisajenkins/elm-astar",
  "krisajenkins/elm-cdn",
  "krisajenkins/elm-dialog",
  "krisajenkins/elm-exts",
  "krisajenkins/formatting",
  "krisajenkins/history",
  "krisajenkins/remotedata",
  "ktonon/elm-aws-core",
  "ktonon/elm-child-update",
  "ktonon/elm-crypto",
  "ktonon/elm-english-dictionary",
  "ktonon/elm-hmac",
  "ktonon/elm-jsonwebtoken",
  "ktonon/elm-memo-pure",
  "ktonon/elm-serverless",
  "ktonon/elm-serverless-auth-jwt",
  "ktonon/elm-serverless-cors",
  "ktonon/elm-test-extra",
  "ktonon/elm-word",
  "ktonon/url-parser",
  "kuon/elm-hsluv",
  "kuon/elm-string-normalize",
  "kuzminadya/mogeefont",
  "kuzzmi/elm-gravatar",
  "labzero/elm-google-geocoding",
  "larribas/elm-image-slider",
  "larribas/elm-multi-email-input",
  "larribas/elm-multi-input",
  "lattenwald/elm-base64",
  "layer6ai/elm-filter-box",
  "layer6ai/elm-query-builder",
  "league/difference-list",
  "league/unique-id",
  "lgastako/elm-select",
  "lovasoa/choices",
  "lovasoa/elm-component-list",
  "lovasoa/elm-csv",
  "lovasoa/elm-format-number",
  "lovasoa/elm-jsonpseudolist",
  "lovasoa/elm-median",
  "lovasoa/elm-nested-list",
  "lovasoa/elm-rolling-list",
  "lucamug/elm-style-framework",
  "lucamug/elm-styleguide-generator",
  "lucasssm/simpledate",
  "ludvigsen/elm-svg-ast",
  "luftzig/elm-quadtree",
  "lukewestby/elm-http-builder",
  "lukewestby/elm-string-interpolate",
  "lukewestby/elm-template",
  "lukewestby/http-extra",
  "lukewestby/lru-cache",
  "lukewestby-fake-elm-lang-1/redirect-test-1",
  "lynn/elm-arithmetic",
  "lynn/elm-ordinal",
  "lzrski/elm-polymer",
  "maksar/elm-function-extra",
  "maksar/elm-workflow",
  "maorleger/elm-flash",
  "maorleger/elm-infinite-zipper",
  "marcosccm/elm-datepicker",
  "marcosh/elm-html-to-unicode",
  "marshallformula/arrangeable-list",
  "marshallformula/elm-swiper",
  "martin-volf/elm-jsonrpc",
  "massung/elm-css",
  "matheus23/elm-drag-and-drop",
  "matheus23/please-focus-more",
  "matthewrankin/elm-mdl",
  "matthewsj/elm-ordering",
  "mattjbray/elm-prismicio",
  "mattrrichard/elm-disjoint-set",
  "maximoleinyk/elm-parser-utils",
  "mbr/elm-mouse-events",
  "mc706/elm-clarity-ui",
  "mcordova47/elm-natural-ordering",
  "mdgriffith/elm-animation-pack",
  "mdgriffith/elm-color-mixing",
  "mdgriffith/elm-debug-watch",
  "mdgriffith/elm-style-animation",
  "mdgriffith/style-elements",
  "mdgriffith/stylish-elephants",
  "mgold/elm-animation",
  "mgold/elm-date-format",
  "mgold/elm-geojson",
  "mgold/elm-nonempty-list",
  "mgold/elm-random-pcg",
  "mhoare/elm-stack",
  "micktwomey/elmo-8",
  "mikaxyz/elm-cropper",
  "milesrock/elm-creditcard",
  "miyamoen/elm-todofuken",
  "mkovacs/quaternion",
  "monty5811/elm-bible",
  "monty5811/remote-list",
  "mpdairy/elm-component-updater",
  "mpizenberg/elm-debounce",
  "mpizenberg/elm-image-annotation",
  "mpizenberg/elm-image-collection",
  "mpizenberg/elm-mouse-compat",
  "mpizenberg/elm-mouse-events",
  "mpizenberg/elm-pointer-events",
  "mpizenberg/elm-touch-events",
  "mrpinsky/elm-keyed-list",
  "mrvicadai/elm-palette",
  "mrvicadai/elm-stats",
  "mthadley/elm-byte",
  "mulander/diceware",
  "myrho/dive",
  "myrho/elm-round",
  "myrho/elm-statistics",
  "naddeoa/quick-cache",
  "naddeoa/stream",
  "nathanfox/elm-string-format",
  "nathanjohnson320/base58",
  "nathanjohnson320/coinmarketcap-elm",
  "nathanjohnson320/ecurve",
  "nathanjohnson320/elmark",
  "nedSaf/elm-bootstrap-grid",
  "neurodynamic/elm-parse-html",
  "newlandsvalley/elm-abc-parser",
  "newlandsvalley/elm-binary-base64",
  "newlandsvalley/elm-comidi",
  "nkotzias/elm-jsonp",
  "noahzgordon/elm-jsonapi",
  "noahzgordon/elm-jsonapi-http",
  "nonpop/elm-purl",
  "norpan/elm-file-reader",
  "norpan/elm-html5-drag-drop",
  "norpan/elm-json-patch",
  "nphollon/collision",
  "nphollon/geo3d",
  "nphollon/interpolate",
  "nphollon/mechanics",
  "nphollon/update-clock",
  "nvaldes/elm-bootstrap",
  "ohanhi/autoexpand",
  "ohanhi/elm-web-data",
  "ohanhi/keyboard-extra",
  "ohanhi/lorem",
  "ohanhi/remotedata-http",
  "oleiade/elm-maestro",
  "omarroth/elm-dom",
  "omarroth/elm-parts",
  "omnidungeon/layout",
  "opensolid/geometry",
  "opensolid/linear-algebra",
  "opensolid/linear-algebra-interop",
  "opensolid/mesh",
  "opensolid/svg",
  "opensolid/webgl-math",
  "opensolid/webgl-math-interop",
  "orus-io/elm-openid-connect",
  "owanturist/elm-validation",
  "ozmat/elm-forms",
  "ozmat/elm-validation",
  "pablen/toasty",
  "pablohirafuji/elm-char-codepoint",
  "pablohirafuji/elm-markdown",
  "pablohirafuji/elm-qrcode",
  "pablohirafuji/elm-syntax-highlight",
  "passiomatic/elm-figma-api",
  "patrickjtoy/elm-table",
  "paulcorke/elm-number-format",
  "paulcorke/elm-string-split",
  "pdamoc/elm-hashids",
  "pdamoc/elm-ports-driver",
  "periodic/elm-csv",
  "peterszerzo/elm-arborist",
  "peterszerzo/elm-cms",
  "peterszerzo/elm-gameroom",
  "peterszerzo/elm-natural-ui",
  "peterszerzo/elm-porter",
  "powet/elm-funfolding",
  "prikhi/decimal",
  "prikhi/elm-http-builder",
  "prikhi/paginate",
  "prikhi/remote-status",
  "primait/elm-autocomplete",
  "pristap/smart-text",
  "pro100filipp/elm-graphql",
  "prozacchiwawa/effmodel",
  "prozacchiwawa/elm-json-codec",
  "prozacchiwawa/elm-keccak",
  "prozacchiwawa/elm-urlbase64",
  "publeaks/elm-rivescript",
  "pukkamustard/elm-identicon",
  "punie/elm-matrix",
  "purohit/style-elements",
  "pwentz/elm-pretty-printer",
  "pzingg/elm-navigation-extra",
  "r-k-b/elm-interval",
  "r-k-b/map-accumulate",
  "r31gN/elm-dropdown",
  "rajasharan/elm-automatic-differentiation",
  "realyarilabs/yarimoji",
  "reginaldlouis/elm-mdl-flex",
  "reiner-dolp/elm-natural-ordering",
  "relabsoss/elm-date-extra",
  "rgrempel/elm-http-decorators",
  "rgrempel/elm-route-url",
  "rhofour/elm-pairing-heap",
  "rjbma/elm-modal",
  "rjdestigter/elm-convert-units",
  "rkrupinski/elm-range-slider",
  "rl-king/elm-modular-scale",
  "rluiten/elm-date-extra",
  "rluiten/elm-text-search",
  "rluiten/mailcheck",
  "rluiten/sparsevector",
  "rluiten/stemmer",
  "rluiten/stringdistance",
  "rluiten/trie",
  "rnons/elm-svg-loader",
  "rnons/elm-svg-parser",
  "rnons/ordered-containers",
  "robertjlooby/elm-generic-dict",
  "robinpokorny/elm-brainfuck",
  "robwhitaker/elm-infinite-stream",
  "robwhitaker/elm-uuid-stream",
  "robx/elm-edn",
  "rodinalex/elm-cron",
  "rogeriochaves/elm-syntax",
  "rogeriochaves/elm-ternary",
  "rogeriochaves/elm-test-bdd-style",
  "rogeriochaves/elm-testable",
  "rogeriochaves/elm-testable-css-helpers",
  "roine/elm-perimeter",
  "rolograaf/elm-favicon",
  "romstad/elm-chess",
  "rtfeldman/console-print",
  "rtfeldman/count",
  "rtfeldman/elm-css",
  "rtfeldman/elm-css-helpers",
  "rtfeldman/elm-css-util",
  "rtfeldman/elm-validate",
  "rtfeldman/hashed-class",
  "rtfeldman/hex",
  "rtfeldman/html-test-runner",
  "rtfeldman/legacy-elm-test",
  "rtfeldman/node-test-runner",
  "rtfeldman/selectlist",
  "rtfeldman/test-update",
  "rtfeldman/ziplist",
  "rundis/elm-bootstrap",
  "ryannhg/elm-date-format",
  "ryannhg/elm-moment",
  "ryanolsonx/elm-mock-http",
  "ryanolsonx/elm-time-range",
  "ryry0/elm-numeric",
  "s3k/latte-charts",
  "s6o/elm-simplify",
  "sanichi/elm-md5",
  "sch/elm-aspect-ratio",
  "scottcorgan/elm-css-normalize",
  "scottcorgan/elm-css-reset",
  "scottcorgan/elm-html-template",
  "scottcorgan/keyboard-combo",
  "seanhess/elm-style",
  "seanpile/elm-orbit-controls",
  "seanpoulter/elm-versioning-spike",
  "seurimas/slime",
  "sh4r3m4n/elm-piano",
  "simanaitis/elm-mdl",
  "simonh1000/elm-charts",
  "simonh1000/elm-colorpicker",
  "simonh1000/elm-jwt",
  "simonh1000/elm-sliding-menus",
  "sixty-north/elm-price-chart",
  "sjorn3/elm-fields",
  "soenkehahn/elm-operational",
  "soenkehahn/elm-operational-mocks",
  "spisemisu/elm-bytes",
  "spisemisu/elm-merkletree",
  "spisemisu/elm-sha",
  "spisemisu/elm-utf8",
  "splodingsocks/elm-add-import",
  "splodingsocks/elm-tailwind",
  "splodingsocks/hipstore-ui",
  "splodingsocks/validatable",
  "sporto/elm-autocomplete",
  "sporto/elm-dropdown",
  "sporto/elm-select",
  "sporto/erl",
  "sporto/polylinear-scale",
  "sporto/qs",
  "stephenreddek/elm-range-slider",
  "stephenreddek/elm-time-picker",
  "stil4m/elm-aui-css",
  "stil4m/elm-devcards",
  "stil4m/elm-syntax",
  "stil4m/rfc2822-datetime",
  "stil4m/structured-writer",
  "stoeffel/datetimepicker",
  "stoeffel/editable",
  "stoeffel/elm-verify",
  "stoeffel/resetable",
  "stoeffel/set-extra",
  "supermario/elm-countries",
  "supermario/html-test-runner",
  "surprisetalk/elm-bulma",
  "surprisetalk/elm-icon",
  "surprisetalk/elm-pointless",
  "swiftsnamesake/euclidean-space",
  "synbioz/elm-time-overlap",
  "tapeinosyne/elm-microkanren",
  "teepark/elmoji",
  "teocollin1995/complex",
  "terezka/app",
  "terezka/colors",
  "terezka/coordinates",
  "terezka/elm-cartesian-svg",
  "terezka/elm-plot",
  "terezka/elm-plot-rouge",
  "terezka/elm-view-utils",
  "terezka/line-charts",
  "terezka/url-parser",
  "tesk9/accessible-html",
  "tesk9/accessible-html-with-css",
  "tesk9/elm-html-a11y",
  "tesk9/elm-html-textup",
  "tesk9/elm-tabs",
  "tesk9/focus-style-manager",
  "thalissonmelo/elmcounter",
  "thaterikperson/elm-blackjack",
  "thaterikperson/elm-strftime",
  "the-sett/ai-search",
  "the-sett/auth-elm",
  "the-sett/elm-multi-dict",
  "the-sett/elm-pretty-printer",
  "the-sett/elm-state-machines",
  "the-sett/elm-string-case",
  "the-sett/elm-update-helper",
  "the-sett/svg-text-fonts",
  "thebookofeveryone/elm-composer",
  "thebritican/elm-autocomplete",
  "thomasloh/elm-phone",
  "thought2/elm-vectors",
  "tilmans/elm-style-elements-drag-drop",
  "timjs/elm-collage",
  "tiziano88/elm-oauth",
  "tiziano88/elm-protobuf",
  "tlentz/elm-adjustable-table",
  "tlentz/elm-fancy-table",
  "toastal/either",
  "toastal/return-optics",
  "toastal/select-prism",
  "toastal/trinary",
  "tomjkidd/elm-multiway-tree-zipper",
  "torgeir/elm-github-events",
  "tortus/elm-array-2d",
  "treffynnon/elm-tfn",
  "tricycle/morty-api",
  "trifectalabs/elm-geojson",
  "trifectalabs/elm-polyline",
  "tripokey/elm-fuzzy",
  "truqu/elm-base64",
  "truqu/elm-dictset",
  "truqu/elm-mustache",
  "truqu/elm-oauth2",
  "truqu/elm-oauth2.0",
  "tryzniak/assoc",
  "tunguski/elm-ast",
  "turboMaCk/chae-tree",
  "turboMaCk/glue",
  "turboMaCk/grid-solver",
  "turboMaCk/lazy-tree-with-zipper",
  "turboMaCk/queue",
  "turboMaCk/tea-component",
  "tuxagon/elm-pokeapi",
  "ucode/elm-path",
  "utkarshkukreti/elm-inflect",
  "valberg/elm-django-channels",
  "vateira/elm-bem-helpers",
  "vieiralucas/elm-collections",
  "vipentti/elm-dispatch",
  "vito/elm-ansi",
  "vmchale/elm-composition",
  "volumeint/sortable-table",
  "w0rm/elm-physics",
  "w0rm/elm-slice-show",
  "waratuman/elm-coder",
  "warry/ascii-table",
  "wende/elm-ast",
  "wende/elmchemy-core",
  "werner/diyalog",
  "wernerdegroot/listzipper",
  "will-clarke/elm-tiled-map",
  "wittjosiah/elm-alerts",
  "wittjosiah/elm-ordered-dict",
  "wjdhamilton/elm-json-api-helpers",
  "wuct/elm-charts",
  "xarvh/elm-dropdown-menu",
  "xarvh/elm-gamepad",
  "xarvh/elm-slides",
  "xarvh/elm-styled-html",
  "xarvh/lexical-random-generator",
  "xerono/pinnablecache",
  "xerono/pinnedcache",
  "xilnocas/step",
  "y-taka-23/elm-github-ribbon",
  "ydschneider/regex-builder",
  "ymtszw/elm-amazon-product-advertising",
  "ymtszw/elm-http-xml",
  "ymtszw/elm-xml-decode",
  "yotamDvir/elm-katex",
  "yotamDvir/elm-pivot",
  "zaboco/elm-draggable",
  "zaidan/elm-collision",
  "zaidan/elm-gridbox",
  "zaptic/elm-decode-pipeline-strict",
  "zwilias/elm-avl-dict-exploration",
  "zwilias/elm-disco",
  "zwilias/elm-holey-zipper",
  "zwilias/elm-html-string",
  "zwilias/elm-reorderable",
  "zwilias/elm-rosetree",
  "zwilias/elm-touch-events",
  "zwilias/elm-transcoder",
  "zwilias/elm-tree",
  "zwilias/elm-utf-tools",
  "zwilias/json-decode-exploration",
  "zwilias/json-encode-exploration"
];
var packages = [];
var packageVersions = [];
var modules = [];

const Elm = require('./parse');
const output = []

function handleModules(artifact, version, cb) {
  const mod = modules.shift();
  if (!mod) {
    cb();
    return;
  }


  request(`https://raw.githubusercontent.com/${artifact.name}/${version}/src/${mod.replace('.', '/')}.elm`, function(err, res, body) {
    if (res.statusCode != 200) {
      console.log(`> Could not load ${artifact.name}@${version} | ${mod}`);
      cb();
      return;
    }
    const name = `${artifact.name}@${version} | ${mod}`;
    const before = new Date().getTime();
    Elm.Main.worker({
      body: body,
      name: name
    });
    const after = new Date().getTime();
    console.log(after - before);
    output.push({
      artifact: artifact,
      version: version,
      module: mod,
      time: after - before
    })
    handleModules(artifact, version, cb);
  })

}

function analyseVersion(artifact, version, definition, cb) {
  modules = [];
  if (!Array.isArray(definition['exposed-modules'])) {
    Object.keys(definition['exposed-modules']).forEach(key => {
      modules = modules.concat(definition['exposed-modules'][key]);
    });
  } else {
    modules = definition['exposed-modules'];
  }
  handleModules(artifact, version, cb)
}

function handleNextVersion(next, cb) {
  const nextVersion = packageVersions.shift();
  if (!nextVersion) {
    cb();
    return;
  }

  request(`https://github.com/${next.name}/raw/${nextVersion}/elm-package.json`, function(err, res, body) {
    if (res.statusCode !== 200) {
      console.log(`> ${next.name}@${nextVersion} Could not fetch elm-package.json`);
      handleNextVersion(next, cb);
      return;
    }

    analyseVersion(next, nextVersion, JSON.parse(body), function() {
      handleNextVersion(next, cb);
    });
  });

}

function analysePackage(next, cb) {
  packageVersions = next.versions;

  handleNextVersion(next, function() {
    cb();
    return;
  })
}

function handleNextPackage() {
  const next = packages.shift();

  if (!next) {
    console.log(JSON.stringify(output));
    return;
  }

  analysePackage(next, function() {
    handleNextPackage();
  });
}



request(
  'http://package.elm-lang.org/all-packages',
  function(err, response, body) {
    var parsed = JSON.parse(body);
    parsed = parsed.filter(p => newPackages.indexOf(p.name) !== -1);
    packages = [];
    for (var i = 1; i <= 30; i++) {
      if (parsed[i]) {
        packages.push(parsed[i]);
      }
    }
    packages.forEach(p => console.log(p.name));
    handleNextPackage()
  })
